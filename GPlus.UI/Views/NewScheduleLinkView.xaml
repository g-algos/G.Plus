<Window x:Class="GPlus.UI.Views.NewScheduleLinkView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:GPlus.UI.Views"  
        xmlns:converters="clr-namespace:G.wpf.Converters;assembly=G.wpf"  
        xmlns:viewModels="clr-namespace:GPlus.UI.ViewsModels"  
        xmlns:contents="clr-namespace:GPlus.Base.Resources.Localizations;assembly=GPlus.Base"
        xmlns:commands="clr-namespace:G.wpf.Commands;assembly=G.wpf"
        mc:Ignorable="d"
        Title="{x:Static contents:Content.NewDataLink}" Height="325" Width="250" ResizeMode="NoResize"
        WindowStartupLocation="CenterOwner">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/G.wpf;component/Themes/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <converters:NullToBoolConverter x:Key="NullToBoolConverter" />
        </ResourceDictionary>
    </Window.Resources>
    <Grid Margin="{StaticResource PaddingDefault}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="50"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Border Grid.Row="6"
            Height="1"
            Background="{StaticResource BorderBrushStrong}"
            VerticalAlignment="Top"
            HorizontalAlignment="Stretch" />
        <Label Grid.Row="0" Margin="{StaticResource PaddingXS}"
               Style="{StaticResource LabelMedium}"
               Content="{x:Static contents:Content.Schedule}"/>
        <ComboBox Grid.Row="1" Margin="{StaticResource PaddingXS}"
                  Style="{StaticResource GComboBox}" 
                  ItemsSource="{Binding Schedules}"
                  SelectedItem="{Binding Schedule}"
                  DisplayMemberPath="Name">
                  
        </ComboBox>
        <StackPanel Grid.Row="2" Margin="{StaticResource PaddingSM}" Orientation="Horizontal" IsEnabled="{Binding Schedule, Converter={StaticResource NullToBoolConverter}}">
            <RadioButton Style="{StaticResource LabelMedium}" Content="{x:Static contents:Content.Instance}" IsChecked="{Binding IsInstance, Mode=TwoWay}" />
            <RadioButton Style="{StaticResource LabelMedium}" Content="{x:Static contents:Content.Type}" Margin="{StaticResource PaddingHorizontal}"/>
        </StackPanel>
        <Label Grid.Row="3" Style="{StaticResource LabelMedium}" Content="{x:Static contents:Content.Path}" Margin="{StaticResource PaddingXS}"/>
        <Grid Grid.Row="4">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <TextBox Grid.Column="0" Style="{StaticResource GTextBox}" IsEnabled="False" Text="{Binding Path, Mode=TwoWay}"/>
            <Button Grid.Column="1" Name="fileDialog" Style="{StaticResource SecondaryButtonSM}" Margin="{StaticResource PaddingXS}"
                    Command="{Binding LinkingCommand}"
                    ToolTip="{x:Static contents:Content.Pull}"
                    IsEnabled="{Binding Schedule, Converter={StaticResource NullToBoolConverter}}">
                <Image Source="{StaticResource Open24}" Width="16" Height="16"/>
            </Button>
        </Grid>
        <StackPanel Grid.Row="5" Margin="{StaticResource PaddingSM}" Orientation="Horizontal" IsEnabled="{Binding Schedule, Converter={StaticResource NullToBoolConverter}}">
            <RadioButton Style="{StaticResource LabelMedium}" Content="{x:Static contents:Content.Absolute}" IsChecked="{Binding IsAbsolute, Mode=TwoWay}"/>
            <RadioButton Style="{StaticResource LabelMedium}" Content="{x:Static contents:Content.Relative}" Margin="{StaticResource PaddingHorizontal}"/>
        </StackPanel>
        <!-- Footer -->
        <Grid DockPanel.Dock="Bottom" Margin="{StaticResource PaddingSM}" Grid.Row="6" >
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <TextBlock Grid.Column="0" VerticalAlignment="Center">
                <Hyperlink Style="{StaticResource LinkLarge}"
                    Command="{x:Static commands:GlobalCommands.OpenUriCommand}" 
                    CommandParameter="http://g-algos.com/G.plus/LocalizationSchemas/#new-location-scheme-setup">
                    Learn more
                </Hyperlink>
            </TextBlock>
            <Button Grid.Column="1" Content="OK" IsDefault="True" Style="{StaticResource PrimaryButton}" Command="{Binding SaveCommand}"/>
        </Grid>
    </Grid>
</Window>
